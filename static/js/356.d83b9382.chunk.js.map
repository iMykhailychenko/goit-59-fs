{"version":3,"file":"static/js/356.d83b9382.chunk.js","mappings":"oOAoFA,UA1EyB,WAAO,IAAD,IAC7B,GAAwCA,EAAAA,EAAAA,MAAiB,eAAlDC,EAAY,KAAEC,EAAe,KAC9BC,EAA+B,QAA3B,EAAGF,EAAaG,IAAI,eAAO,QAAI,EACnCC,EAAwC,QAA7B,EAAGJ,EAAaG,IAAI,iBAAS,QAAI,GAElD,GAAgDE,EAAAA,EAAAA,IAAiB,CAC/DH,KAAAA,EACAI,OAAQF,IAFFG,EAAI,EAAJA,KAAMC,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAASC,EAAS,EAATA,UAKlC,GAA4BC,EAAAA,EAAAA,UAASP,GAAY,eAA1CE,EAAM,KAAEM,EAAS,KAElBC,GAAcC,EAAAA,EAAAA,UAAQ,WAC1B,OAAOC,KAAS,SAAAT,GACdL,EAAgB,CAAEC,KAAM,EAAGI,OAAAA,GAC7B,GAAG,IACL,GAAG,CAACL,IAOJ,OACE,iCACE,kBACEe,KAAK,OACLC,UAAU,oBACVC,YAAY,oBACZC,MAAOb,EACPc,SAZe,SAAAC,GACnBT,EAAUS,EAAMC,OAAOH,OACvBN,EAAYQ,EAAMC,OAAOH,MAC3B,IAYKX,IAAa,SAAC,IAAW,IAEzBC,IAAW,SAAC,IAAQ,IAEpBC,IACC,gBAAKO,UAAU,gCAA+B,UAC5C,gBAAKA,UAAU,MAAK,SACb,OAAJV,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAAKgB,KAAI,SAAAC,GAAI,OAClB,SAAC,IAAS,CAAeA,KAAMA,GAAfA,EAAKC,GAAkB,SAM1C,OAAJlB,QAAI,IAAJA,OAAI,EAAJA,EAAMmB,eACL,gBAAKT,UAAU,aAAY,UACzB,gBAAKA,UAAU,sCAAqC,UACjD,OAAIU,MAAMpB,EAAKmB,cAAcH,KAAI,SAACK,EAAGC,GACpC,IAAMC,EAAYD,EAAQ,EAE1B,OACE,mBAEEb,KAAK,SACLe,SAAUD,IAAcvB,EAAKL,KAC7Be,UAAU,kBACVe,QAAS,WACP/B,EAAgB,CAAEC,KAAM4B,EAAWxB,OAAQF,GAC7C,EAAE,SAED0B,GARID,EAWX,UAMZ,C","sources":["pages/RTKPostsListPage/RTKPostsListPage.jsx"],"sourcesContent":["import { useMemo, useState } from 'react';\n\nimport debounce from 'lodash/debounce';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { NotFound } from '../../components/NotFound/NotFound';\nimport { PostsItem } from '../../components/Posts/PostsItem';\nimport { PostsLoader } from '../../components/Posts/PostsLoader';\nimport { useGetPostsQuery } from '../../redux/rtk-posts/rtk-posts.api';\n\nconst RTKPostsListPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const page = searchParams.get('page') ?? 1;\n  const searchQuery = searchParams.get('search') ?? '';\n\n  const { data, isLoading, isError, isSuccess } = useGetPostsQuery({\n    page,\n    search: searchQuery,\n  });\n\n  const [search, setSearch] = useState(searchQuery);\n\n  const searchPosts = useMemo(() => {\n    return debounce(search => {\n      setSearchParams({ page: 1, search }); // localhost.../?page=1&search=javascript\n    }, 500);\n  }, [setSearchParams]);\n\n  const handleSearch = event => {\n    setSearch(event.target.value);\n    searchPosts(event.target.value);\n  };\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        className=\"form-control mb-4\"\n        placeholder=\"Type to search...\"\n        value={search}\n        onChange={handleSearch}\n      />\n\n      {isLoading && <PostsLoader />}\n\n      {isError && <NotFound />}\n\n      {isSuccess && (\n        <div className=\"container-fluid g-0 pb-5 mb-5\">\n          <div className=\"row\">\n            {data?.data.map(post => (\n              <PostsItem key={post.id} post={post} />\n            ))}\n          </div>\n        </div>\n      )}\n\n      {data?.total_pages && (\n        <div className=\"pagination\">\n          <div className=\"btn-group my-2 mx-auto btn-group-lg\">\n            {[...Array(data.total_pages)].map((_, index) => {\n              const innerPage = index + 1;\n\n              return (\n                <button\n                  key={index}\n                  type=\"button\"\n                  disabled={innerPage === data.page}\n                  className=\"btn btn-primary\"\n                  onClick={() => {\n                    setSearchParams({ page: innerPage, search: searchQuery });\n                  }}\n                >\n                  {innerPage}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default RTKPostsListPage;\n"],"names":["useSearchParams","searchParams","setSearchParams","page","get","searchQuery","useGetPostsQuery","search","data","isLoading","isError","isSuccess","useState","setSearch","searchPosts","useMemo","debounce","type","className","placeholder","value","onChange","event","target","map","post","id","total_pages","Array","_","index","innerPage","disabled","onClick"],"sourceRoot":""}