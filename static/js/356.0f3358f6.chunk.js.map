{"version":3,"file":"static/js/356.0f3358f6.chunk.js","mappings":"oOAqFA,UA3EyB,WAAO,IAAD,IAC7B,GAAwCA,EAAAA,EAAAA,MAAiB,eAAlDC,EAAY,KAAEC,EAAe,KAC9BC,EAA+B,QAA3B,EAAGF,EAAaG,IAAI,eAAO,QAAI,EACnCC,EAAwC,QAA7B,EAAGJ,EAAaG,IAAI,iBAAS,QAAI,GAElD,GAAgDE,EAAAA,EAAAA,IAAiB,CAC/DH,KAAAA,EACAI,OAAQF,IAFFG,EAAI,EAAJA,KAAMC,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAASC,EAAS,EAATA,UAIlC,GAAkBC,EAAAA,EAAAA,MAAXC,GAAmC,YAA5B,GAEd,GAA4BC,EAAAA,EAAAA,UAAST,GAAY,eAA1CE,EAAM,KAAEQ,EAAS,KAElBC,GAAcC,EAAAA,EAAAA,UAAQ,WAC1B,OAAOC,KAAS,SAAAX,GACdL,EAAgB,CAAEC,KAAM,EAAGI,OAAAA,GAC7B,GAAG,IACL,GAAG,CAACL,IAOJ,OACE,iCACE,kBACEiB,KAAK,OACLC,UAAU,oBACVC,YAAY,oBACZC,MAAOf,EACPgB,SAZe,SAAAC,GACnBT,EAAUS,EAAMC,OAAOH,OACvBN,EAAYQ,EAAMC,OAAOH,MAC3B,IAYKb,IAAa,SAAC,IAAW,IAEzBC,IAAW,SAAC,IAAQ,IAEpBC,IACC,gBAAKS,UAAU,gCAA+B,UAC5C,gBAAKA,UAAU,MAAK,SACb,OAAJZ,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAAKkB,KAAI,SAAAC,GAAI,OAClB,SAAC,IAAS,CAAeA,KAAMA,EAAMC,SAAUf,GAA/Bc,EAAKE,GAAqC,SAM7D,OAAJrB,QAAI,IAAJA,OAAI,EAAJA,EAAMsB,eACL,gBAAKV,UAAU,aAAY,UACzB,gBAAKA,UAAU,sCAAqC,UACjD,OAAIW,MAAMvB,EAAKsB,cAAcJ,KAAI,SAACM,EAAGC,GACpC,IAAMC,EAAYD,EAAQ,EAE1B,OACE,mBAEEd,KAAK,SACLgB,SAAUD,IAAc1B,EAAKL,KAC7BiB,UAAU,kBACVgB,QAAS,WACPlC,EAAgB,CAAEC,KAAM+B,EAAW3B,OAAQF,GAC7C,EAAE,SAED6B,GARID,EAWX,UAMZ,C","sources":["pages/RTKPostsListPage/RTKPostsListPage.jsx"],"sourcesContent":["import { useMemo, useState } from 'react';\n\nimport debounce from 'lodash/debounce';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { NotFound } from '../../components/NotFound/NotFound';\nimport { PostsItem } from '../../components/Posts/PostsItem';\nimport { PostsLoader } from '../../components/Posts/PostsLoader';\nimport { useGetPostsQuery, useDeletePostsMutation } from '../../redux/rtk-posts/rtk-posts.api';\n\nconst RTKPostsListPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const page = searchParams.get('page') ?? 1;\n  const searchQuery = searchParams.get('search') ?? '';\n\n  const { data, isLoading, isError, isSuccess } = useGetPostsQuery({\n    page,\n    search: searchQuery,\n  });\n  const [trigger] = useDeletePostsMutation();\n\n  const [search, setSearch] = useState(searchQuery);\n\n  const searchPosts = useMemo(() => {\n    return debounce(search => {\n      setSearchParams({ page: 1, search });\n    }, 500);\n  }, [setSearchParams]);\n\n  const handleSearch = event => {\n    setSearch(event.target.value);\n    searchPosts(event.target.value);\n  };\n\n  return (\n    <>\n      <input\n        type=\"text\"\n        className=\"form-control mb-4\"\n        placeholder=\"Type to search...\"\n        value={search}\n        onChange={handleSearch}\n      />\n\n      {isLoading && <PostsLoader />}\n\n      {isError && <NotFound />}\n\n      {isSuccess && (\n        <div className=\"container-fluid g-0 pb-5 mb-5\">\n          <div className=\"row\">\n            {data?.data.map(post => (\n              <PostsItem key={post.id} post={post} onDelete={trigger} />\n            ))}\n          </div>\n        </div>\n      )}\n\n      {data?.total_pages && (\n        <div className=\"pagination\">\n          <div className=\"btn-group my-2 mx-auto btn-group-lg\">\n            {[...Array(data.total_pages)].map((_, index) => {\n              const innerPage = index + 1;\n\n              return (\n                <button\n                  key={index}\n                  type=\"button\"\n                  disabled={innerPage === data.page}\n                  className=\"btn btn-primary\"\n                  onClick={() => {\n                    setSearchParams({ page: innerPage, search: searchQuery });\n                  }}\n                >\n                  {innerPage}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default RTKPostsListPage;\n"],"names":["useSearchParams","searchParams","setSearchParams","page","get","searchQuery","useGetPostsQuery","search","data","isLoading","isError","isSuccess","useDeletePostsMutation","trigger","useState","setSearch","searchPosts","useMemo","debounce","type","className","placeholder","value","onChange","event","target","map","post","onDelete","id","total_pages","Array","_","index","innerPage","disabled","onClick"],"sourceRoot":""}